<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <title>SSHのインストール</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>SSHのインストール</h1>

    <p>
      SSHとは、Secure Shell（セキュアシェル）の略称で、
      リモートコンピュータと通信するためのプロトコルです。
      認証部分を含めネットワーク上の通信がすべて暗号化されるため、
      安全に通信することができます。
    </p>
    <p>
      PCとRaspberry PiをSSHで接続して、
      PCからRaspberry PiをCLI（Command Line Interface）で
      操作できるようにします。
    </p>
    <br>

    <ul>
      <li><a href="#SSHのインストール（Raspberry Pi）">SSHのインストール（Raspberry Pi）</a></li>
      <li><a href="#22番ポートの開放（Raspberry Pi）">22番ポートの開放（Raspberry Pi）</a></li>
      <li><a href="#鍵の生成（Raspberry Pi）">鍵の生成（Raspberry Pi）</a></li>
    </ul>
    <section>

    <h3 id="SSHのインストール（Raspberry Pi）">SSHのインストール（Raspberry Pi）</h3>
    <p>ソフトウェア・パッケージの情報を最新のものにする。</p>
    <ul>
      <pre>$ sudo apt update</pre>
    </ul>
    <p>次のように表示されたら、パスワードを入力。</p>
    <ul>
      <pre>[sudo] password for pi:</pre>
    </ul>
    <p>openssh-serverをインストール。</p>
    <ul>
      <pre>$ sudo apt install openssh-server</pre>
    </ul>
    <p>次のように表示されたら、そのまま[Enter]を押す。</p>
    <ul>
      <pre>Do you want to continue? [Y/n]</pre>
    </ul>
    <br>

    <h3 id="22番ポートの開放（Raspberry Pi）">22番ポートの開放（Raspberry Pi）</h3>
    <p>Raspberry Pi側の22番ポートが塞がっていると接続できない。</p>
    <div style="text-align:center">
      <img src="images/ssh_install_img_01.png">
    </div>
    <p>以下のコマンドを実行して、22番ポートを開放する。</p>
    <ul>
      <pre>$ sudo ufw allow 22</pre>
    </ul>
    <ul>
      <pre>$ sudo /etc/init.d/ssh restart</pre>
    </ul>
    <ul>
      <pre>$ sudo systemctl enable ssh</pre>
    </ul>
    <br>

    <h3 id="鍵の生成（Raspberry Pi）">鍵の生成（Raspberry Pi）</h3>
    <p>
      SSHのホストキーが自動生成されていないので、
      ホストキーを手動で生成する。
    </p>
    <ul>
      <pre>$ sudo ssh-keygen -A</pre>
    </ul>
    <ul>
      <pre>$ sudo /etc/init.d/ssh restart</pre>
    </ul>
    <br>

  </body>
</html>
